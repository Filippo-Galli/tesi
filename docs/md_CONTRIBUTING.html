<!-- HTML header for doxygen 1.13.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Docs: Contributing to BNPClust</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="https://cdn.jsdelivr.net/gh/jothepro/doxygen-awesome-css@v2.3.4/doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="https://cdn.jsdelivr.net/gh/jothepro/doxygen-awesome-css@v2.3.4/doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="https://cdn.jsdelivr.net/gh/jothepro/doxygen-awesome-css@v2.3.4/doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Docs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_CONTRIBUTING.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Contributing to BNPClust</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md19"></a></p>
<p>I welcome contributions to this project! Whether it's bug fixes, new features, or documentation improvements, your help is appreciated.</p>
<h1><a class="anchor" id="autotoc_md20"></a>
Getting Started</h1>
<h2><a class="anchor" id="autotoc_md21"></a>
1. Fork the Repository</h2>
<p>Click the <b>"Fork"</b> button at the top right of the <a href="https://github.com/Filippo-Galli/tesi">BNPClust repository</a> to create your own copy.</p>
<h2><a class="anchor" id="autotoc_md22"></a>
2. Clone Your Fork</h2>
<p>Clone your forked repository to your local machine:</p>
<div class="fragment"><div class="line">git clone https://github.com/yourusername/tesi.git</div>
<div class="line">cd tesi</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23"></a>
3. Create a New Branch</h2>
<p>Create a new branch for your feature or bug fix:</p>
<div class="fragment"><div class="line">git checkout -b feature-or-bugfix-name</div>
</div><!-- fragment --><p>Use descriptive branch names, e.g., <code>add-split-merge-sampler</code>, <code>fix-spatial-module-bug</code>.</p>
<h2><a class="anchor" id="autotoc_md24"></a>
4. Make Your Changes</h2>
<p>Implement your changes in the codebase. Ensure that your code follows the existing style and conventions.</p>
<p><b>Code Style Guidelines:</b></p><ul>
<li>Follow the existing C++ naming conventions (CamelCase for classes, snake_case for functions)</li>
<li>Use consistent indentation (same as surrounding code)</li>
<li>Write clear, descriptive variable and function names</li>
<li>Comment complex logic, especially in MCMC algorithms</li>
</ul>
<h2><a class="anchor" id="autotoc_md25"></a>
5. Test Your Changes</h2>
<p>Run existing tests and add new tests if necessary:</p>
<div class="fragment"><div class="line"># Compile and run your changes</div>
<div class="line"># Add your test cases to verify functionality</div>
</div><!-- fragment --><p>Ensure your changes:</p><ul>
<li>Compile without warnings</li>
<li>Don't break existing functionality</li>
<li>Pass new and existing tests</li>
</ul>
<h2><a class="anchor" id="autotoc_md26"></a>
6. Commit Your Changes</h2>
<p>Commit with a clear, descriptive message:</p>
<div class="fragment"><div class="line">git add .</div>
<div class="line">git commit -m &quot;Description of your changes&quot;</div>
</div><!-- fragment --><p><b>Commit Message Guidelines:</b></p><ul>
<li>Start with a verb: "Add", "Fix", "Improve", "Refactor"</li>
<li>Be specific about what changed: <code>git commit -m "Add SAMS sampler with caching support"</code></li>
<li>Reference issues if applicable: <code>git commit -m "Fix spatial module bug (closes #42)"</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md27"></a>
7. Push to Your Fork</h2>
<p>Push your changes to your forked repository:</p>
<div class="fragment"><div class="line">git push origin feature-or-bugfix-name</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md28"></a>
8. Create a Pull Request</h2>
<p>Go to the <a href="https://github.com/Filippo-Galli/tesi">original repository</a> and create a pull request from your forked branch. Provide:</p>
<ul>
<li>A clear title summarizing your changes</li>
<li>A detailed description of what you changed and why</li>
<li>Reference to any related issues</li>
<li>Examples or test cases if applicable</li>
</ul>
<h2><a class="anchor" id="autotoc_md29"></a>
9. Address Feedback</h2>
<p>Be responsive to feedback and requests for changes from the maintainers. This is a collaborative process, and iteration is normal.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md31"></a>
Design Philosophy</h1>
<p>BNPClust is built on a <b>modular architecture</b> to support flexible composition of components. When contributing, keep these principles in mind:</p>
<h2><a class="anchor" id="autotoc_md32"></a>
KISS Principle</h2>
<p>Follow the <b>Keep It Simple, Stupid (KISS)</b> principle:</p><ul>
<li>Avoid unnecessary complexity</li>
<li>Focus on clear, maintainable code</li>
<li>Solve problems directly without over-engineering</li>
<li>Write code that others can understand easily</li>
</ul>
<h2><a class="anchor" id="autotoc_md33"></a>
Modularity</h2>
<p>The framework is organized around four main logical components:</p>
<ol type="1">
<li><b>Processes</b>: Bayesian nonparametric priors (<a class="el" href="classDP.html" title="Dirichlet Process class for Bayesian nonparametric clustering.">DP</a>, <a class="el" href="classNGGP.html" title="Normalized Generalized Gamma Process class for Bayesian nonparametric clustering.">NGGP</a>, with modular extensions)</li>
<li><b>Likelihoods</b>: <a class="el" href="classData.html" title="Manages distance matrices and cluster allocations for points.">Data</a> observation models</li>
<li><b>Samplers</b>: MCMC inference algorithms</li>
<li><b><a class="el" href="classData.html" title="Manages distance matrices and cluster allocations for points.">Data</a></b>: Cluster assignments and data management</li>
</ol>
<p>When adding new features:</p><ul>
<li><b>New likelihood model?</b> ‚Üí Inherit from the <code><a class="el" href="classLikelihood.html" title="Abstract base class for likelihood computation.">Likelihood</a></code> abstract class so it can be swapped with other likelihoods</li>
<li><b>New sampler?</b> ‚Üí Follow the <code><a class="el" href="classSampler.html" title="Abstract base class for MCMC sampler implementations.">Sampler</a></code> interface for seamless integration</li>
<li><b>New process?</b> ‚Üí Ensure it respects the <code><a class="el" href="classProcess.html" title="Abstract base class for Bayesian nonparametric processes.">Process</a></code> abstract interface and supports modular extensions</li>
</ul>
<h2><a class="anchor" id="autotoc_md34"></a>
Code Organization</h2>
<ul>
<li><b><code>src/processes/</code></b>: Place new stochastic process implementations here</li>
<li><b><code>src/likelihoods/</code></b>: Add new likelihood models here</li>
<li><b><code>src/samplers/</code></b>: Implement new MCMC samplers here</li>
<li><b><code>src/utils/</code></b>: Add utility functions and base classes for shared infrastructure</li>
<li><b><code>R/</code></b>: Add R wrapper functions and examples</li>
</ul>
<h2><a class="anchor" id="autotoc_md35"></a>
Documentation</h2>
<p>Code documentation is critical:</p>
<ul>
<li><b>Header comments</b>: Explain the purpose of classes and methods</li>
<li><b>Inline comments</b>: Document complex logic, especially in MCMC algorithms</li>
<li><b>Parameter documentation</b>: Clearly describe function parameters and their constraints</li>
<li><b>References</b>: Cite papers when implementing algorithms (e.g., Neal, 2000; Jain &amp; Neal, 2004)</li>
</ul>
<p>Example:</p>
<div class="fragment"><div class="line"></div>
<div class="line"><span class="keyword">class </span>SplitMergeSampler : <span class="keyword">public</span> <a class="code hl_class" href="classSampler.html">Sampler</a> { ... };</div>
<div class="ttc" id="aclassSampler_html"><div class="ttname"><a href="classSampler.html">Sampler</a></div><div class="ttdoc">Abstract base class for MCMC sampler implementations.</div><div class="ttdef"><b>Definition</b> Sampler.hpp:49</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md36"></a>
R Bindings</h2>
<p>BNPClust uses <b>Rcpp external pointers (XPtr)</b> pattern for seamless C++ object management in R. When adding new C++ features, expose them via <code><a class="el" href="bindings_8cpp.html" title="R language bindings for Bayesian nonparametric clustering models.">src/bindings.cpp</a></code>:</p>
<p><b>Factory Functions:</b> Every C++ class needs a factory function to create instances from R:</p>
<div class="fragment"><div class="line"><span class="comment">// [[Rcpp::export]]</span></div>
<div class="line">Rcpp::XPtr&lt;MyNewClass&gt; create_MyNewClass(Rcpp::XPtr&lt;Params&gt; params, </div>
<div class="line">                                         SEXP data_sexp) {</div>
<div class="line">    <a class="code hl_class" href="classData.html">Data</a> *data = <a class="code hl_function" href="bindings_8cpp.html#a0b90b94c00df80e382f7e4ef384457d9">get_data_ptr</a>(data_sexp);  <span class="comment">// Extract C++ pointer from R</span></div>
<div class="line">    <span class="keywordflow">return</span> Rcpp::XPtr&lt;MyNewClass&gt;(<span class="keyword">new</span> MyNewClass(*data, *params), <span class="keyword">true</span>);</div>
<div class="line">}</div>
<div class="ttc" id="abindings_8cpp_html_a0b90b94c00df80e382f7e4ef384457d9"><div class="ttname"><a href="bindings_8cpp.html#a0b90b94c00df80e382f7e4ef384457d9">get_data_ptr</a></div><div class="ttdeci">Data * get_data_ptr(SEXP sexp)</div><div class="ttdef"><b>Definition</b> bindings.cpp:54</div></div>
<div class="ttc" id="aclassData_html"><div class="ttname"><a href="classData.html">Data</a></div><div class="ttdoc">Manages distance matrices and cluster allocations for points.</div><div class="ttdef"><b>Definition</b> Data.hpp:27</div></div>
</div><!-- fragment --><p><b>Wrapper Functions:</b> Expose methods via simple wrapper functions:</p>
<div class="fragment"><div class="line"><span class="comment">// [[Rcpp::export]]</span></div>
<div class="line"><span class="keywordtype">void</span> mynewclass_step(Rcpp::XPtr&lt;MyNewClass&gt; obj) { </div>
<div class="line">    obj-&gt;step(); </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// [[Rcpp::export]]</span></div>
<div class="line">Eigen::VectorXi mynewclass_get_result(Rcpp::XPtr&lt;MyNewClass&gt; obj) { </div>
<div class="line">    <span class="keywordflow">return</span> obj-&gt;get_result(); </div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Usage in R:</b></p>
<div class="fragment"><div class="line"><span class="comment"># Create objects using factory functions</span></div>
<div class="line">params &lt;- <a class="code hl_function" href="bindings_8cpp.html#acdf60c21ba9cbd9728015f180e4ad332">create_Params</a>(delta1=1.0, alpha=1.0, ...)</div>
<div class="line">data &lt;- <a class="code hl_function" href="bindings_8cpp.html#ac0ddd038caef50f4affae93c691afb3b">create_Data</a>(params, initial_allocations)</div>
<div class="line">sampler &lt;- create_MyNewClass(params, data)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Call methods via wrappers</span></div>
<div class="line">mynewclass_step(sampler)</div>
<div class="line">result &lt;- mynewclass_get_result(sampler)</div>
<div class="ttc" id="abindings_8cpp_html_ac0ddd038caef50f4affae93c691afb3b"><div class="ttname"><a href="bindings_8cpp.html#ac0ddd038caef50f4affae93c691afb3b">create_Data</a></div><div class="ttdeci">Rcpp::XPtr&lt; Data &gt; create_Data(Rcpp::XPtr&lt; Params &gt; params, Eigen::VectorXi initial_allocations)</div><div class="ttdef"><b>Definition</b> bindings.cpp:109</div></div>
<div class="ttc" id="abindings_8cpp_html_acdf60c21ba9cbd9728015f180e4ad332"><div class="ttname"><a href="bindings_8cpp.html#acdf60c21ba9cbd9728015f180e4ad332">create_Params</a></div><div class="ttdeci">Rcpp::XPtr&lt; Params &gt; create_Params(double delta1, double alpha, double beta, double delta2, double gamma, double zeta, int BI, int NI, double a, double sigma, double tau, Eigen::MatrixXd D)</div><div class="ttdef"><b>Definition</b> bindings.cpp:103</div></div>
</div><!-- fragment --><p><b>Key Points:</b></p><ul>
<li>Use <code><a class="el" href="bindings_8cpp.html#a0b90b94c00df80e382f7e4ef384457d9">get_data_ptr()</a></code> helper to extract <a class="el" href="classData.html" title="Manages distance matrices and cluster allocations for points.">Data</a> pointers (handles both <code><a class="el" href="classData.html" title="Manages distance matrices and cluster allocations for points.">Data</a></code> and <code><a class="el" href="classDatax.html" title="Data container with integrated cluster information management.">Datax</a></code> types)</li>
<li>Add <code>// [[Rcpp::export]]</code> above every function meant to be accessible from R</li>
<li>Memory is managed by Rcpp (set second parameter to <code>true</code> for automatic cleanup)</li>
<li>Add examples in <code>R/launcher.R</code> or <code>R/mcmc_loop.R</code> showing usage</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md38"></a>
Types of Contributions</h1>
<h2><a class="anchor" id="autotoc_md39"></a>
üêõ Bug Reports</h2>
<ul>
<li>Open an issue with a clear title and description</li>
<li>Include minimal reproducible example</li>
<li>Specify your OS, R version, C++ compiler version</li>
</ul>
<h2><a class="anchor" id="autotoc_md40"></a>
‚ú® Feature Requests</h2>
<ul>
<li>Check if the feature already exists or is planned</li>
<li>Describe the use case and why it would be valuable</li>
<li>Discuss implementation approach if possible</li>
</ul>
<h2><a class="anchor" id="autotoc_md41"></a>
üìñ Documentation</h2>
<ul>
<li>Fix typos, clarify explanations, add examples</li>
<li>Improve Doxygen documentation</li>
<li>Update README or contributing guidelines</li>
<li>Add academic references or method citations</li>
</ul>
<h2><a class="anchor" id="autotoc_md42"></a>
üîß Code Improvements</h2>
<ul>
<li>Refactor for clarity and efficiency</li>
<li>Optimize MCMC sampling performance</li>
<li>Add missing error handling</li>
<li>Improve test coverage</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md44"></a>
Questions?</h1>
<p>If you have questions about contributing, feel free to:</p><ul>
<li>Open a discussion in the GitHub repository</li>
<li>Check the documentation at <a href="https://filippo-galli.github.io/tesi/">https://filippo-galli.github.io/tesi/</a></li>
</ul>
<p>Thank you for contributing to BNPClust! üôè </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
</body>
</html>
